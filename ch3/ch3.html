<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<link href="style.css" rel="stylesheet" type="text/css" />
<script src="../jQuery/jquery-1.9.1.min.js" type="text/javascript"></script>
<script>
    $(function(){
        var page = 1;// init pageIndex
        var i = 4;// 4 items perPage
        $("span.next").click(function(){
            var $v_show = $(this).parents("div.v_show");
            var $v_contentList = $v_show.find("div.v_content_list");
            var $v_content = $v_show.find("div.v_content");
            var pageSize = $v_contentList.find("ul li").length;
            var pageCount = Math.ceil(pageSize/i) ;
            var pageWidth = $v_content.width();
//            alert(pageCount);
            if(page==pageCount){
                if(!$v_contentList.is(":animated"))
                {
                    $v_contentList.animate({"left": "0px"}, "slow");
                    page = 1;
                }
            }else{
                if(!$v_contentList.is(":animated")) {
                    $v_contentList.animate({"left": "-=" + pageWidth}, "slow");
                    page++;
                }
            }
            $(".highlight_tip").find("span").eq(page-1).addClass("current").siblings().removeClass("current");
        })
        $("span.prev").click(function(){
            var $v_show = $(this).parents("div.v_show");
            var $v_contentList = $v_show.find("div.v_content_list");
            var $v_content = $v_show.find("div.v_content");
            var pageSize = $v_contentList.find("ul li").length;
            var pageCount = Math.ceil(pageSize/i) ;
            var pageWidth = $v_content.width();
            if(page==1){//go to last page
                if(!$v_contentList.is(":animated"))
                {
                    $v_contentList.animate({"left": -pageWidth*(pageCount-1)+"px"}, "slow");
                    page = pageCount;
                }
            }else{
                if(!$v_contentList.is(":animated")) {
                    $v_contentList.animate({"left": "+=" + pageWidth}, "slow");
                    page--;
                }
            }
            $(".highlight_tip").find("span").eq(page-1).addClass("current").siblings().removeClass("current");
        })
    });
</script>
<body>
<div class="v_show">
    <div class="v_caption">
        <h2 class="cartoon" title="卡通动漫">卡通动漫</h2>
        <div class="highlight_tip">
            <span class="current">1</span><span>2</span><span>3</span><span>4</span>
        </div>
        <div class="change_btn">
            <span class="prev" >上一页</span>
            <span class="next">下一页</span>
        </div>
        <em><a href="#">更多>></a></em>
    </div>
    <div class="v_content">
        <div  class="v_content_list">
            <ul>
                <li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
                <li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
                <li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
                <li><a href="#"><img src="img/01.jpg" alt="海贼王" /></a><h4><a href="#">海贼王</a></h4><span>播放:<em>28,276</em></span></li>
                <li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
                <li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
                <li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
                <li><a href="#"><img src="img/02.jpg" alt="哆啦A梦" /></a><h4><a href="#">哆啦A梦</a></h4><span>播放:<em>33,326</em></span></li>
                <li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
                <li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
                <li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
                <li><a href="#"><img src="img/03.jpg" alt="火影忍者" /></a><h4><a href="#">火影忍者</a></h4><span>播放:<em>28,276</em></span></li>
                <li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
                <li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
                <li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
                <li><a href="#"><img src="img/04.jpg" alt="龙珠" /></a><h4><a href="#">龙珠</a></h4><span>播放 <em>57,865</em></span></li>
            </ul>
        </div>
    </div>
</div>

</body>
</html>